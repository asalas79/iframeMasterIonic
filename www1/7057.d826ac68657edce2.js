"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7057],{7057:(H,b,s)=>{s.r(b),s.d(b,{HomePageModule:()=>X});var d=s(177),c=s(5150),S=s(4341),p=s(8986),m=s(467),j=s(6262),e=s(3953),I=s(345),_=s(3445),F=s(5230),f=s(4412);let g=(()=>{var n;class r{constructor(){this.iframeUrlSource=new f.t(""),this.currentIframeUrl=this.iframeUrlSource.asObservable()}updateIframeUrl(t){this.iframeUrlSource.next(t)}}return(n=r).\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),r})();var k=s(1413);let h=(()=>{var n;class r{constructor(){this.triggerFunctionSubject=new k.B,this.gatilloMenuconsolidado=new k.B,this.triggerFunction$=this.triggerFunctionSubject.asObservable(),this.MenuConsolidar$=this.gatilloMenuconsolidado.asObservable()}triggerFunction(){this.triggerFunctionSubject.next()}MenuConsolidar(){this.gatilloMenuconsolidado.next()}}return(n=r).\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),r})();const v=(0,s(5083).F3)("Network",{web:()=>s.e(3780).then(s.bind(s,3780)).then(n=>new n.NetworkWeb)});let C=(()=>{var n;class r{constructor(){this.networkStatus=new f.t(!0),this.initializeNetworkEvents()}initializeNetworkEvents(){var t=this;return(0,m.A)(function*(){const i=yield v.getStatus();t.networkStatus.next(i.connected),v.addListener("networkStatusChange",a=>{t.networkStatus.next(a.connected)})})()}getNetworkStatus(){return this.networkStatus.asObservable()}}return(n=r).\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),r})();var M=s(3656);function E(n,r){if(1&n){const o=e.RV6();e.j41(0,"ion-list")(1,"ion-item",2),e.bIt("click",function(){e.eBV(o);const i=e.XpG();return e.Njj(i.updateIframeSrc("/guia/indexguia/crearguia"))}),e.j41(2,"ion-label",18),e.EFF(3," - Nueva Guia "),e.k0s()(),e.j41(4,"ion-item",2),e.bIt("click",function(){e.eBV(o);const i=e.XpG();return e.Njj(i.updateIframeSrc("/reportes/indexreportes/buscarguiareportes"))}),e.j41(5,"ion-label",18),e.EFF(6," - Reporte de Guias"),e.k0s()(),e.j41(7,"ion-item",2),e.bIt("click",function(){e.eBV(o);const i=e.XpG();return e.Njj(i.updateIframeSrc("/status/indexstatus/addguiastatus/uni/1"))}),e.j41(8,"ion-label",18),e.EFF(9," - Status a Guia Individual"),e.k0s()()()}}function x(n,r){if(1&n){const o=e.RV6();e.j41(0,"ion-list")(1,"ion-item",2),e.bIt("click",function(){e.eBV(o);const i=e.XpG();return e.Njj(i.updateIframeSrc("/bodega/bodegarecibo/addbodega"))}),e.j41(2,"ion-label",18),e.EFF(3," - Nuevo Recibo"),e.k0s()(),e.j41(4,"ion-item",2),e.bIt("click",function(){e.eBV(o);const i=e.XpG();return e.Njj(i.updateIframeSrc("/bodega/bodegarecibo/listarbodega/rg/1"))}),e.j41(5,"ion-label",18),e.EFF(6," - Reporte"),e.k0s()()()}}function U(n,r){if(1&n){const o=e.RV6();e.j41(0,"ion-list")(1,"ion-item",2),e.bIt("click",function(){e.eBV(o);const i=e.XpG();return e.Njj(i.updateIframeSrc("/bodega/bodegarecibo/addbodegadetalle"))}),e.j41(2,"ion-label",18),e.EFF(3," - Nuevo Paquete"),e.k0s()(),e.j41(4,"ion-item",2),e.bIt("click",function(){e.eBV(o);const i=e.XpG();return e.Njj(i.updateIframeSrc("/bodega/bodegarecibojs/indexitemsjs"))}),e.j41(5,"ion-label",18),e.EFF(6," - Reporte Paquetes"),e.k0s()(),e.j41(7,"ion-item",2),e.bIt("click",function(){e.eBV(o);const i=e.XpG();return e.Njj(i.updateIframeSrc("/bodega/bodegarecibo/recibidorbodega"))}),e.j41(8,"ion-label",18),e.EFF(9," - Recibidor rapido"),e.k0s()()()}}function N(n,r){if(1&n){const o=e.RV6();e.j41(0,"ion-list")(1,"ion-item",2),e.bIt("click",function(){e.eBV(o);const i=e.XpG();return e.Njj(i.updateIframeSrc("/consolidate/indexconsolidate/indexconsolidateacc/add/1"))}),e.j41(2,"ion-label",18),e.EFF(3," - Nuevo Consolidado"),e.k0s()(),e.j41(4,"ion-item",2),e.bIt("click",function(){e.eBV(o);const i=e.XpG();return e.Njj(i.updateIframeSrc("/status/addconsostatus/addconsostatusacc"))}),e.j41(5,"ion-label",18),e.EFF(6," - Status consolidado"),e.k0s()(),e.j41(7,"ion-item",2),e.bIt("click",function(){e.eBV(o);const i=e.XpG();return e.Njj(i.updateIframeSrc("/consolidate/indexconsolidate/indexconsolidateacc/guias/1"))}),e.j41(8,"ion-label",18),e.EFF(9," - Reporte"),e.k0s()()()}}let y=(()=>{var n;class r{constructor(t,i,a,l,u){this.sharedService=t,this.urlsService=i,this.menuCtrl=a,this.navCtrl=l,this.usuarioService=u,this.nombreUsuario1="",this.nombreEmrpesa="",this.subMenus={}}ngOnInit(){var t=this;return(0,m.A)(function*(){try{(yield t.usuarioService.validaToken())&&(t.nombreUsuario1=t.usuarioService.nombreUsuario1,t.nombreEmrpesa=t.usuarioService.nombreEmpresa)}catch(i){console.error("Error al obtener los datos del usuario:",i)}})()}enviarMensaje(){this.sharedService.triggerFunction()}MenuConsolidar(){this.sharedService.MenuConsolidar()}updateIframeSrc(t){this.urlsService.updateIframeUrl(t),this.menuCtrl.close()}goBack(){this.navCtrl.back()}toggleSubMenu(t){this.subMenus[t]=!this.subMenus[t]}logout(){this.usuarioService.logout()}toggleMenu(){this.menuCtrl.isOpen().then(t=>{t?this.menuCtrl.close():this.menuCtrl.open()})}}return(n=r).\u0275fac=function(t){return new(t||n)(e.rXU(h),e.rXU(g),e.rXU(c._t),e.rXU(M.q9),e.rXU(_.o))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-tabs"]],decls:58,vars:6,consts:[["side","start","contentId","main-content"],[1,""],[3,"click"],["slot","start","name","person",2,"color","dodgerblue"],["slot","start","name","home"],["slot","start","name","receipt-outline"],[4,"ngIf"],["slot","start","name","file-tray-full-outline"],["slot","start","name","cube-outline"],["slot","start","name","server-outline"],["lines","none",3,"click"],["slot","start","name","person-circle-outline","color","danger"],["slot","bottom"],["name","caret-back-outline",2,"color","red",3,"click"],["name","home",3,"click"],["name","cube-outline",3,"click"],["name","grid-outline",3,"click"],["name","menu",2,"color","darkcyan",3,"click"],[1,"text-color"]],template:function(t,i){1&t&&(e.j41(0,"ion-menu",0)(1,"ion-header")(2,"ion-toolbar")(3,"ion-title"),e.EFF(4),e.k0s()()(),e.j41(5,"ion-content",1)(6,"ion-list")(7,"ion-item",2),e.bIt("click",function(){return i.updateIframeSrc("/admin/general/usuarioslista")}),e.nrm(8,"ion-icon",3),e.j41(9,"ion-label"),e.EFF(10),e.k0s()(),e.j41(11,"ion-item",2),e.bIt("click",function(){return i.updateIframeSrc("/escritorio/indexescritorio/indexescritorioacc")}),e.nrm(12,"ion-icon",4),e.j41(13,"ion-label"),e.EFF(14,"Inicio "),e.k0s()(),e.j41(15,"ion-item",2),e.bIt("click",function(){return i.toggleSubMenu("guia")}),e.nrm(16,"ion-icon",5),e.j41(17,"ion-label"),e.EFF(18,"Guia"),e.k0s()(),e.DNE(19,E,10,0,"ion-list",6),e.j41(20,"ion-item",2),e.bIt("click",function(){return i.toggleSubMenu("bodega")}),e.nrm(21,"ion-icon",7),e.j41(22,"ion-label"),e.EFF(23,"Bodega"),e.k0s()(),e.DNE(24,x,7,0,"ion-list",6),e.j41(25,"ion-item",2),e.bIt("click",function(){return i.toggleSubMenu("paquetes")}),e.nrm(26,"ion-icon",8),e.j41(27,"ion-label"),e.EFF(28,"Paquetes"),e.k0s()(),e.DNE(29,U,10,0,"ion-list",6),e.j41(30,"ion-item",2),e.bIt("click",function(){return i.toggleSubMenu("consolidado")}),e.nrm(31,"ion-icon",9),e.j41(32,"ion-label"),e.EFF(33,"Consolidado"),e.k0s()(),e.DNE(34,N,10,0,"ion-list",6),e.k0s()(),e.j41(35,"ion-footer")(36,"ion-toolbar")(37,"ion-item",10),e.bIt("click",function(){return i.logout()}),e.nrm(38,"ion-icon",11),e.j41(39,"ion-label"),e.EFF(40,"Cerrar sesi\xf3n"),e.k0s()()()()(),e.j41(41,"div")(42,"ion-tab-bar",12)(43,"ion-tab-button")(44,"ion-icon",13),e.bIt("click",function(){return i.goBack()}),e.k0s(),e.EFF(45," Atras "),e.k0s(),e.j41(46,"ion-tab-button")(47,"ion-icon",14),e.bIt("click",function(){return i.updateIframeSrc("/escritorio/indexescritorio/indexescritorioacc")}),e.k0s(),e.EFF(48," Inicio "),e.k0s(),e.j41(49,"ion-tab-button")(50,"ion-icon",15),e.bIt("click",function(){return i.MenuConsolidar()}),e.k0s(),e.EFF(51," Consolidar "),e.k0s(),e.j41(52,"ion-tab-button")(53,"ion-icon",16),e.bIt("click",function(){return i.enviarMensaje()}),e.k0s(),e.EFF(54," Opciones "),e.k0s(),e.j41(55,"ion-tab-button")(56,"ion-icon",17),e.bIt("click",function(){return i.toggleMenu()}),e.k0s(),e.EFF(57," Menu "),e.k0s()()()),2&t&&(e.R7$(4),e.JRh(i.nombreEmrpesa),e.R7$(6),e.SpI("",i.nombreUsuario1," "),e.R7$(9),e.Y8G("ngIf",i.subMenus.guia),e.R7$(5),e.Y8G("ngIf",i.subMenus.bodega),e.R7$(5),e.Y8G("ngIf",i.subMenus.paquetes),e.R7$(5),e.Y8G("ngIf",i.subMenus.consolidado))},dependencies:[d.bT,c.W9,c.M0,c.eU,c.iq,c.uz,c.he,c.nf,c.oS,c.Jq,c.qW,c.BC,c.ai]}),r})();function G(n,r){if(1&n&&e.nrm(0,"iframe",3),2&n){const o=e.XpG();e.Y8G("src",o.iframeSrc,e.f$h)}}function R(n,r){1&n&&(e.j41(0,"div",4)(1,"div",5)(2,"ion-label"),e.EFF(3," 1Sin conexi\xf3n a internet,"),e.nrm(4,"br"),e.EFF(5," verifica tu conexi\xf3n "),e.k0s(),e.nrm(6,"br")(7,"br")(8,"ion-spinner"),e.k0s()())}const B=[{path:"",component:(()=>{var n;class r{constructor(t,i,a,l,u,w){this.sanitizer=t,this.usuarioService=i,this.ui=a,this.urlsService=l,this.sharedService=u,this.networkService=w,this.urlMaster=this.usuarioService.urlMaster,this.nombreEmpresa="",this.nombreUsuario1="",this.colorBackground="",this.colorFont="",this.subMenus={},this.conexionInternet=!0,this.iframeSrc=""}ngOnInit(){var t=this;return(0,m.A)(function*(){t.networkService.getNetworkStatus().subscribe(i=>{i?(t.conexionInternet=!0,t.ui.presentToast("Conexi\xf3n a internet disponible","success")):(t.conexionInternet=!1,t.ui.presentToast("Sin conexi\xf3n a internet","danger"))}),t.subscription=t.sharedService.triggerFunction$.subscribe(()=>{t.activarMenuIframe()}),t.subscription=t.sharedService.MenuConsolidar$.subscribe(()=>{t.activarMenuIConsolidadoframe()}),t.urlsService.currentIframeUrl.subscribe(i=>{if(i)t.updateIframeSrc(i);else{const a=t.usuarioService.token,l=t.usuarioService.urlMaster;t.nombreEmpresa=t.usuarioService.nombreEmpresa.substring(0,17),t.nombreUsuario1=t.usuarioService.nombreUsuario1,t.colorBackground="#3880ff",t.colorFont="#ffffff",t.iframeSrc=t.sanitizer.bypassSecurityTrustResourceUrl(`${l}?tokenion=${a}`)}}),t.ui.spinerLoading("Cargando.."),setTimeout(()=>{t.ui.spinerCerrar()},1e3)})()}ionViewWillEnter(){return(0,m.A)(function*(){yield j.S.hide()})()}ngOnDestroy(){var t;null===(t=this.subscription)||void 0===t||t.unsubscribe()}activarMenuIConsolidadoframe(){const t=document.getElementById("miIframe").contentWindow;t&&t.postMessage({action:"llamarFuncionMenuConsolidado",url:this.urlMaster},this.urlMaster)}activarMenuIframe(){const t=document.getElementById("miIframe").contentWindow;t&&t.postMessage({action:"llamarFuncionPushMenu",url:this.urlMaster},this.urlMaster)}updateIframeSrc(t){this.iframeSrc=this.sanitizer.bypassSecurityTrustResourceUrl(this.urlMaster+t)}toggleSubMenu(t){this.subMenus[t]=!this.subMenus[t]}}return(n=r).\u0275fac=function(t){return new(t||n)(e.rXU(I.up),e.rXU(_.o),e.rXU(F.p),e.rXU(g),e.rXU(h),e.rXU(C))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-home"]],decls:4,vars:2,consts:[["id","main-content"],["id","miIframe","style","width: 100%; height: 100%; border: none;",3,"src",4,"ngIf"],["style","margin-top: 250px;",4,"ngIf"],["id","miIframe",2,"width","100%","height","100%","border","none",3,"src"],[2,"margin-top","250px"],[2,"text-align","center","font-size","20px"]],template:function(t,i){1&t&&(e.j41(0,"ion-content",0),e.DNE(1,G,1,1,"iframe",1)(2,R,9,0,"div",2),e.k0s(),e.nrm(3,"app-tabs")),2&t&&(e.R7$(),e.Y8G("ngIf",i.conexionInternet),e.R7$(),e.Y8G("ngIf",!i.conexionInternet))},dependencies:[d.bT,c.W9,c.he,c.w2,y],styles:[".text-titulo[_ngcontent-%COMP%]{text-align:left;font-size:17px;margin-left:17px}.text-color[_ngcontent-%COMP%]{color:#00f}"]}),r})()}];let P=(()=>{var n;class r{}return(n=r).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[p.iI.forChild(B),p.iI]}),r})(),X=(()=>{var n;class r{}return(n=r).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[d.MD,S.YN,c.bv,P]}),r})()}}]);